@model List<AncientCities.Application.DTOs.CityDto>

<div class="row pb-3">
    <h2>Cities</h2>
</div>


<div class="row pb-3">
    <div class="text-end">
        <a asp-controller="City" asp-action="Upsert" class="btn btn-primary">
            <i class="bi bi-plus-circle"></i> Add New Ancient City
        </a>
    </div>
</div>


<table class="table table-striped">
    <thead>
        <tr>
            <th>
                City Name
            </th>
            <th>
                Part Of
            </th>
            <th>
                Population
            </th>
            <th>
                Created
            </th>
            <th>
                Defunct
            </th>
            <th>
                Type
            </th>
            <th>
                Description
            </th>
            @* <th><i class="bi bi-pencil-square"></i></th> *@
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.OrderBy(x => x.Name))



        {
            <tr>
                <td>
                    @item.Name
                </td>
                <td>
                    @item.PartOf
                </td>
                <td>
                    @item.Population
                </td>
                <td>
                    @{
                        if (item.Created.HasValue)



                        {
                            <span>@item.Created.Value.ToString("dd/MM/yyy") <span> @item.EraCreated</span></span>
                        }
                    }

                </td>
                <td>
                    @{
                        if (item.Defunct.HasValue)



                        {
                            <span>@item.Defunct.Value.ToString("dd/MM/yyy") <span> @item.EraDefunct</span></span>
                        }
                    }
                </td>
                <td>
                    @{
                        if (item.Type != null)



                        {
                            @item.Type.Name
                        }
                    }
                </td>
                <td>
                    @item.Description
                </td>
                <td>
                    <div class="w-100 btn-group col-6" role="group">
                        <a asp-controller="City" asp-action="Upsert" asp-route-id="@item.Id" class="btn btn-primary mx-2">
                            <i class="bi bi-pencil-square"></i> Edit
                        </a>
                    </div>
                </td>
                <td>
                    <div class="w-100 btn-group col-6" role="group">
                        <a asp-controller="City" asp-action="Delete" asp-route-id="@item.Id" class="btn btn-danger mx-2" onclick="return confirm('Are you sure you want to delete this item?');">
                            <i class="bi bi-trash"></i> Delete
                        </a>
                    </div>
                </td>
            </tr>
        }
    </tbody>

</table>